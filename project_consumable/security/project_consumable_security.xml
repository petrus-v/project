<?xml version="1.0" encoding="UTF-8" ?>
<!-- Copyright 2025 Pierre Verkest
     @author Pierre Verkest <pierre@verkest.fr>
     License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html). -->
<odoo noupdate="1">

    <record id="consumable_line_rule_user" model="ir.rule">
        <field name="name">account.analytic.line.consumable.user</field>
        <field name="model_id" ref="analytic.model_account_analytic_line" />
        <field name="domain_force">[
            ('user_id', '=', user.id),
            ('consumable_project_id', '!=', False),
        ]</field>
        <field
            name="groups"
            eval="[(4, ref('hr_timesheet.group_hr_timesheet_user'))]"
        />
    </record>

    <record id="consumable_line_rule_manager" model="ir.rule">
        <field name="name">account.analytic.line.consumable.manager</field>
        <field name="model_id" ref="analytic.model_account_analytic_line" />
        <field name="domain_force">[('consumable_project_id', '!=', False),]</field>
        <field
            name="groups"
            eval="[(4, ref('hr_timesheet.group_timesheet_manager')), (4, ref('project.group_project_manager'))]"
        />
    </record>
</odoo>
